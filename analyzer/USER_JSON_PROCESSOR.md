# User JSON Processor

ุงู ูุงุจูุช ุฌุฏุฏ ุงูฺฉุงู ุชุฑฺฉุจ ูุงูโูุง JSON ฺฉุงุฑุจุฑุงู ุงุฒ Saved Messages ู ุงุฌุงุฏ ูุงู ููุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.

## ูฺฺฏโูุง

- ๐ ุฌุณุชุฌู ูุงูโูุง JSON ฺฉุงุฑุจุฑุงู ุฏุฑ Saved Messages
- ๐ ุชุฑฺฉุจ ุฎูุฏฺฉุงุฑ ูุงูโูุง JSON ฺฉ ฺฉุงุฑุจุฑ
- ๐ ุฐุฎุฑู ุงุทูุงุนุงุช ูุงู ููุง ุฏุฑ ุฏุชุงุจุณ MongoDB
- โก ุจูููโุณุงุฒ: ููุท ูุงูโูุง ุฌุฏุฏ ุฑุง ุชุฑฺฉุจ ูโฺฉูุฏ
- ๐ ูุฏุฑุช ูุงูโูุง ููุง ุจุง ูพุดููุฏ `final_`

## ูุญูู ฺฉุงุฑฺฉุฑุฏ

### 1. ุฌุณุชุฌู ูุงูโูุง
ุจุฑูุงูู ุชูุงู ูุงูโูุง JSON ุฏุฑ Saved Messages ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ ู ูุงูโูุง ูุฑุจูุท ุจู ฺฉุงุฑุจุฑ ููุฑุฏ ูุธุฑ ุฑุง ูพุฏุง ูโฺฉูุฏ.

### 2. ุชุฑฺฉุจ ูุงูโูุง
- ุงฺฏุฑ ูุงู ููุง ูุจูุงู ูุฌูุฏ ุฏุงุฑุฏุ ููุท ูุงูโูุง ุฌุฏุฏ ุฑุง ุงุถุงูู ูโฺฉูุฏ
- ุงฺฏุฑ ูุงู ููุง ูุฌูุฏ ูุฏุงุฑุฏุ ุชูุงู ูุงูโูุง ุฑุง ุชุฑฺฉุจ ูโฺฉูุฏ

### 3. ุฐุฎุฑู ุฏุฑ ุฏุชุงุจุณ
ูุงู ูุงู ููุง ู ุงุทูุงุนุงุช ูุฑุจูุทู ุฏุฑ ฺฉุงูฺฉุดู `users` ุฏุฑ MongoDB ุฐุฎุฑู ูโุดูุฏ.

## ุงุณุชูุงุฏู

### ูพุฑุฏุงุฒุด ฺฉ ฺฉุงุฑุจุฑ
```bash
python user_json_processor.py --user-id 123456789
```

### ูุดุงูุฏู ูุณุช ฺฉุงุฑุจุฑุงู ูพุฑุฏุงุฒุด ุดุฏู
```bash
python user_json_processor.py --list
```

### ุฏุฑุงูุช ุงุทูุงุนุงุช ฺฉ ฺฉุงุฑุจุฑ
```bash
python user_json_processor.py --info 123456789
```

## ุณุงุฎุชุงุฑ ูุงูโูุง

### ูุงูโูุง ูุฑูุฏ
ูุงูโูุง JSON ุจุง ูุฑูุช: `user_id_group_id_YYYYMMDD_HHMMSS_uuid.json`

### ูุงู ููุง
ูุงู ููุง ุจุง ูุฑูุช: `final_user_id_YYYYMMDD_HHMMSS_uuid.json`

## ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

### ฺฉุงูฺฉุดู users
```json
{
  "user_id": 123456789,
  "first_seen": "2024-01-01T00:00:00Z",
  "last_seen": "2024-01-01T12:00:00Z",
  "final_json_filename": "final_123456789_20240101_120000_abc12345.json",
  "final_json_updated": "2024-01-01T12:00:00Z",
  "final_json_message_count": 150
}
```

## ูุซุงู ุฎุฑูุฌ

```
๐ Starting JSON processing for user 123456789
โ Found 5 JSON files for user 123456789
โ Merged 150 messages for user 123456789
โ Final JSON sent: final_123456789_20240101_120000_abc12345.json
โ Successfully processed user 123456789
๐ Final JSON: final_123456789_20240101_120000_abc12345.json
๐ Total messages: 150
```

## ูฺฉุงุช ููู

1. **ูุงูโูุง ูููุช**: ูุงูโูุง ูููุช ุฏุฑ ุญู ูพุฑุฏุงุฒุด ุงุฌุงุฏ ู ุญุฐู ูโุดููุฏ
2. **ูุญุฏูุฏุช ูพุงูโูุง**: ุญุฏุงฺฉุซุฑ 1000 ูพุงู ุงุฒ Saved Messages ุจุฑุฑุณ ูโุดูุฏ
3. **ุจูููโุณุงุฒ**: ููุท ูุงูโูุง ุฌุฏุฏุชุฑ ุงุฒ ูุงู ููุง ุชุฑฺฉุจ ูโุดููุฏ
4. **ุฎุทุงูุง**: ุฏุฑ ุตูุฑุช ุจุฑูุฒ ุฎุทุงุ ูุงฺฏโูุง ููุงุณุจ ุซุจุช ูโุดูุฏ

## ูพุดโูุงุฒูุง

- ุงุชุตุงู ุจู MongoDB
- ุชูุธูุงุช ุตุญุญ Telegram API
- ุฏุณุชุฑุณ ุจู Saved Messages 