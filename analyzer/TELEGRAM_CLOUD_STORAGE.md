# Telegram Cloud Storage Feature

## Overview
ุงู ูฺฺฏ ุฌุฏุฏ ุงูฺฉุงู ุงุฑุณุงู ูุงูโูุง JSON ฺฉุงุฑุจุฑุงู ุจู ุชูฺฏุฑุงู ุฑุง ุจู ุนููุงู ฺฉูุงูุฏ ุงุณุชูุฑุฌ ูุฑุงูู ูโฺฉูุฏ. ุจู ุฌุง ุฐุฎุฑู ูุงูโูุง ุฏุฑ ุณุณุชู ูุญูุ ูุงูโูุง ูุณุชููุงู ุจู ฺุช ุชูฺฏุฑุงู ุจุง ID `6682562049` ุงุฑุณุงู ูโุดููุฏ.

## Features

### ๐ ุชุบุฑ ุงุฒ ุฐุฎุฑู ูุญู ุจู ุชูฺฏุฑุงู
- **ูุจู**: ูุงูโูุง ุฏุฑ ูพูุดู `users/` ุฐุฎุฑู ูโุดุฏูุฏ
- **ุญุงูุง**: ูุงูโูุง ุจู ุชูฺฏุฑุงู ุงุฑุณุงู ูโุดููุฏ

### ๐ ุณุงุฎุชุงุฑ ูุงูโูุง ุงุฑุณุงู
ูุฑ ูุงู JSON ุดุงูู:
- ุงุทูุงุนุงุช ฺฉุงูู ฺฉุงุฑุจุฑ
- ุชุงุฑุฎฺู ูุงู ู ูุฒุฑูู
- ูพุงูโูุง ฺฉุงุฑุจุฑ ุฏุฑ ฺฏุฑูู ุฎุงุต
- ุงุทูุงุนุงุช ฺฏุฑูู
- ูุชุงุฏุชุง ุตุงุฏุฑุงุช

### ๐ ูุงู ุฎูุงุตู
ฺฉ ูุงู ุฎูุงุตู ุดุงูู:
- ุขูุงุฑ ฺฉู ฺฉุงุฑุจุฑุงู
- ุงุทูุงุนุงุช ฺฏุฑููโูุง
- ุงูฺฏู ูุงูโฺฏุฐุงุฑ ูุงูโูุง

## Files Modified

### 1. `services/telegram_storage.py` (ุฌุฏุฏ)
ฺฉูุงุณ `TelegramStorage` ุจุฑุง ุงุฑุณุงู ูุงูโูุง ุจู ุชูฺฏุฑุงู:
- `send_json_file()`: ุงุฑุณุงู ูุงู JSON
- `send_user_data()`: ุงุฑุณุงู ุฏุงุฏูโูุง ฺฉุงุฑุจุฑ
- `send_summary_file()`: ุงุฑุณุงู ูุงู ุฎูุงุตู

### 2. `services/user_tracker.py`
ุงุถุงูู ุดุฏู ูุชุฏ ุฌุฏุฏ:
- `save_all_users_to_telegram()`: ุงุฑุณุงู ฺฉุงุฑุจุฑุงู ุจู ุชูฺฏุฑุงู

### 3. `main.py` ู `core/analyzer.py`
ุชุบุฑ ุงุฒ `save_all_users()` ุจู `save_all_users_to_telegram()`

## Usage

### ุงุฌุฑุง ุนุงุฏ
```bash
python main.py
```

### ุชุณุช ุนููฺฉุฑุฏ
```bash
python test_telegram_storage.py
```

## Configuration

### ูุชุบุฑูุง ูุญุท ููุฑุฏ ูุงุฒ
```bash
API_ID=your_api_id
API_HASH=your_api_hash
SESSION_STRING=your_session_string
```

### ุชูุธู ฺุช ููุตุฏ
ุฏุฑ `services/telegram_storage.py`:
```python
def __init__(self, target_chat_id: int = 6682562049):
```

## File Naming Convention

### ูุงูโูุง ฺฉุงุฑุจุฑ
```
{user_id}_{group_id}_{timestamp}_{unique_id}.json
```

**ูุซุงู:**
```
1410974894_-1002548215273_20250727_191737_a1b2c3d4.json
```

### ูุงู ุฎูุงุตู
```
summary_{timestamp}_{unique_id}.json
```

**ูุซุงู:**
```
summary_20250727_191740_m3n4o5p6.json
```

## Caption Format

### ูุงูโูุง ฺฉุงุฑุจุฑ
```
๐ค User: {user_name} (@{username})
๐ Messages: {message_count}
๐ {timestamp}
```

### ูุงู ุฎูุงุตู
```
๐ Analysis Summary
๐ฅ Total Users: {total_users}
๐ Total Files: {total_files}
๐ {timestamp}
```

## Error Handling

### FloodWait
ุฏุฑ ุตูุฑุช ูุญุฏูุฏุช ุชูฺฏุฑุงูุ ุณุณุชู ููุชุธุฑ ูโูุงูุฏ ู ุฏูุจุงุฑู ุชูุงุด ูโฺฉูุฏ.

### RPC Errors
ุฎุทุงูุง RPC ุซุจุช ู ฺฏุฒุงุฑุด ูโุดููุฏ.

### Temporary Files
ูุงูโูุง ูููุช ูพุณ ุงุฒ ุงุฑุณุงู ุญุฐู ูโุดููุฏ.

## Benefits

### โ ูุฒุงุง
- **ุงููุช**: ูุงูโูุง ุฏุฑ ุชูฺฏุฑุงู ุฐุฎุฑู ูโุดููุฏ
- **ุฏุณุชุฑุณ**: ุงูฺฉุงู ุฏุณุชุฑุณ ุงุฒ ูุฑ ุฌุง
- **ูพุดุชุจุงู**: ุชูฺฏุฑุงู ุจู ุนููุงู ุจฺฉโุขูพ
- **ุงุดุชุฑุงฺฉ**: ุงูฺฉุงู ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ุขุณุงู

### โ๏ธ ูุญุฏูุฏุชโูุง
- **ุงูุฏุงุฒู ูุงู**: ูุญุฏูุฏุช 50MB ุชูฺฏุฑุงู
- **ูุฑุฎ ุงุฑุณุงู**: ูุญุฏูุฏุช API ุชูฺฏุฑุงู
- **ูุงุจุณุชฺฏ**: ูุงุฒ ุจู ุงุชุตุงู ุงูุชุฑูุช

## Troubleshooting

### ุฎุทุงูุง ุฑุงุฌ

#### 1. ุฎุทุง ุงุชุตุงู
```
โ Failed to start Telegram storage client
```
**ุฑุงูโุญู**: ุจุฑุฑุณ API_ID ู API_HASH

#### 2. ุฎุทุง ุงุฑุณุงู
```
โ RPC Error sending file
```
**ุฑุงูโุญู**: ุจุฑุฑุณ ูุญุฏูุฏุชโูุง ุชูฺฏุฑุงู

#### 3. ุฎุทุง ฺุช
```
โ Chat not found
```
**ุฑุงูโุญู**: ุจุฑุฑุณ ID ฺุช ููุตุฏ

## Future Enhancements

### ๐ฎ ูฺฺฏโูุง ุขูุฏู
- ูพุดุชุจุงู ุงุฒ ฺูุฏู ฺุช ููุตุฏ
- ูุดุฑุฏูโุณุงุฒ ูุงูโูุง
- ุฑูุฒฺฏุฐุงุฑ ูุงูโูุง
- ุขุฑุดู ุฎูุฏฺฉุงุฑ
- ฺฏุฒุงุฑุดโฺฏุฑ ูพุดุฑูุชู 