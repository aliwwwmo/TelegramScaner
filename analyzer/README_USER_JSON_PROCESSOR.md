# User JSON Processor - ูพุฑุฏุงุฒุดฺฏุฑ ูุงูโูุง JSON ฺฉุงุฑุจุฑุงู

## ๐ ุฎูุงุตู
ุงู ูุงุจูุช ุฌุฏุฏ ุงูฺฉุงู ุชุฑฺฉุจ ู ูพุฑุฏุงุฒุด ูุงูโูุง JSON ูุฑุจูุท ุจู ฺฉุงุฑุจุฑุงู ุฑุง ุงุฒ Saved Messages ูุฑุงูู ูโฺฉูุฏ.

## ๐ ูุงุจูุชโูุง

### โ **ูุงุจูุชโูุง ุงุตู:**
- **ูพุฏุง ฺฉุฑุฏู ูุงูโูุง JSON:** ุฌุณุชุฌู ุฎูุฏฺฉุงุฑ ูุงูโูุง JSON ูุฑุจูุท ุจู ฺฉุงุฑุจุฑ ุฏุฑ Saved Messages
- **ุชุฑฺฉุจ ููุดููุฏ:** ุชุฑฺฉุจ ุชูุงู ูุงูโูุง JSON ฺฉ ฺฉุงุฑุจุฑ ุฏุฑ ฺฉ ูุงู ููุง
- **ุญุฐู ุชฺฉุฑุงุฑ:** ุฌููฺฏุฑ ุงุฒ ุชฺฉุฑุงุฑ ูพุงูโูุง ู ุงุทูุงุนุงุช
- **ุชุฑฺฉุจ ุชุงุฑุฎฺู:** ุชุฑฺฉุจ ููุดููุฏ username_history ู name_history ุงุฒ ูุงูโูุง ูุฎุชูู
- **ูพุฑุฏุงุฒุด ูุฌุฏุฏ:** ุงฺฏุฑ ูุงู ููุง ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ููุท ูุงูโูุง ุฌุฏุฏ ุฑุง ุงุถุงูู ูโฺฉูุฏ
- **ุฐุฎุฑู ุฏุฑ ุฏุชุงุจุณ:** ุฐุฎุฑู ุงุทูุงุนุงุช ูุงู ููุง ุฏุฑ MongoDB

### ๐ง **ูุงุจูุชโูุง ูพุดุฑูุชู:**
- **ุดูุงุณุง ุงูฺฏููุง ูุฎุชูู:** ูพุดุชุจุงู ุงุฒ ูุฑูุชโูุง ูุฎุชูู ูุงู ูุงู
- **ุชุฑฺฉุจ ุงุทูุงุนุงุช ฺฏุฑูู:** ุฌูุนโุขูุฑ ุงุทูุงุนุงุช ุชูุงู ฺฏุฑููโูุง ฺฉู ฺฉุงุฑุจุฑ ุฏุฑ ุขูโูุง ุนุถู ุงุณุช
- **ูุฑุชุจโุณุงุฒ ุฒูุงู:** ูุฑุชุจ ฺฉุฑุฏู ุชุงุฑุฎฺูโูุง ุจุฑ ุงุณุงุณ ุฒูุงู ุชุบุฑ
- **ูุงฺฏ ฺฉุงูู:** ููุงุด ุฌุฒุฆุงุช ฺฉุงูู ุนููุงุช

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง

### ูุงูโูุง ุงุตู:
```
analyzer/
โโโ services/
โ   โโโ user_json_manager.py      # ูุฏุฑุช ูุงูโูุง JSON ฺฉุงุฑุจุฑุงู
โ   โโโ mongo_service.py          # ุณุฑูุณ ุฏุชุงุจุณ (ุจูโุฑูุฒุฑุณุงู ุดุฏู)
โ   โโโ telegram_storage.py       # ุณุฑูุณ ุชูฺฏุฑุงู (ููุฌูุฏ)
โโโ user_json_processor.py        # ุงุณฺฉุฑูพุช ุงุตู ูพุฑุฏุงุฒุด
โโโ quick_user_process.py         # ุงุณฺฉุฑูพุช ุณุฑุน ูพุฑุฏุงุฒุด
โโโ README_USER_JSON_PROCESSOR.md # ุงู ูุงู
```

## ๐๏ธ ูุญูู ุงุณุชูุงุฏู

### 1. **ูพุฑุฏุงุฒุด ฺฉ ฺฉุงุฑุจุฑ:**
```bash
cd analyzer
python user_json_processor.py --user-id 123456789
```

### 2. **ูพุฑุฏุงุฒุด ุณุฑุน:**
```bash
cd analyzer
python quick_user_process.py 123456789
```

### 3. **ูุดุงูุฏู ูุณุช ฺฉุงุฑุจุฑุงู ูพุฑุฏุงุฒุด ุดุฏู:**
```bash
cd analyzer
python user_json_processor.py --list
```

### 4. **ูุดุงูุฏู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ:**
```bash
cd analyzer
python user_json_processor.py --info 123456789
```

## ๐ ุณุงุฎุชุงุฑ ุฎุฑูุฌ

### ูุงู JSON ููุง ุดุงูู:
```json
{
  "user_id": 123456789,
  "merge_date": "2025-07-30T23:24:28.4577a40f",
  "total_files_merged": 9,
  "messages": [...],
  "user_info": {
    "current_username": "username",
    "current_name": "ูุงู ฺฉุงุฑุจุฑ",
    "username_history": [
      {
        "username": "username1",
        "changed_at": "2025-07-28T09:56:13.772364+00:00"
      }
    ],
    "name_history": [
      {
        "name": "ูุงู ูุฏู",
        "changed_at": "2025-07-28T09:56:13.772361+00:00"
      },
      {
        "name": "ูุงู ุฌุฏุฏ",
        "changed_at": "2025-07-30T22:27:21.967105+00:00"
      }
    ],
    "is_bot": false,
    "is_deleted": false,
    "is_verified": false,
    "is_premium": false,
    "is_scam": false,
    "is_fake": false,
    "phone_number": null,
    "language_code": null,
    "dc_id": 4,
    "first_seen": "2025-07-30T22:27:21.967095+00:00",
    "last_seen": "2025-07-30T22:27:21.970025+00:00"
  },
  "groups_info": [
    {
      "group_id": "-1001653610103",
      "group_title": "ูุงู ฺฏุฑูู",
      "group_username": "group_username",
      "joined_at": "2025-07-30T22:27:21.967159+00:00",
      "role": "member",
      "is_admin": false
    }
  ]
}
```

## ๐ง ุชูุธูุงุช ูุญุท

### ูุชุบุฑูุง ูุญุท ููุฑุฏ ูุงุฒ:
```bash
# ุชูุธูุงุช ุชูฺฏุฑุงู
API_ID=your_api_id
API_HASH=your_api_hash
SESSION_STRING=your_session_string

# ุชูุธูุงุช MongoDB
MONGO_CONNECTION_STRING=mongodb://admin:password@mongodb:27017/
MONGO_DATABASE=telegram_scanner
MONGO_COLLECTION=groups

# ุชูุธูุงุช ุฐุฎุฑูโุณุงุฒ
TELEGRAM_STORAGE_MODE=saved_messages
```

## ๐ ุขูุงุฑ ู ฺฏุฒุงุฑุดโูุง

### ูุงฺฏโูุง ููู:
- `โ Found X JSON files for user Y`: ุชุนุฏุงุฏ ูุงูโูุง ูพุฏุง ุดุฏู
- `๐ Combined username history: X entries`: ุชุนุฏุงุฏ username ูุง ูุฎุชูู
- `๐ Combined name history: X entries`: ุชุนุฏุงุฏ name ูุง ูุฎุชูู
- `๐ Total unique messages: X`: ุชุนุฏุงุฏ ูพุงูโูุง ููุญุตุฑ ุจู ูุฑุฏ
- `๐ Total groups found: X`: ุชุนุฏุงุฏ ฺฏุฑููโูุง ูพุฏุง ุดุฏู
- `โ Final JSON sent: filename.json`: ูุงู ูุงู ููุง ุงุฑุณุงู ุดุฏู

## ๐ ุงูฺฏููุง ุดูุงุณุง ูุงู

### ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู:
1. `temp_user_id_group_id_timestamp_uuid.json`
2. `temp_user_id_-group_id_timestamp_uuid.json`
3. `user_id_group_id_timestamp_uuid.json`
4. `user_id_-group_id_timestamp_uuid.json`
5. `temp_user_id_*.json`
6. `user_id_*.json`

## โ๏ธ ูฺฉุงุช ููู

### ูุญุฏูุฏุชโูุง:
- ุญุฏุงฺฉุซุฑ 1000 ูพุงู ุงุฒ Saved Messages ุจุฑุฑุณ ูโุดูุฏ
- ูุงูโูุง ุจุฒุฑฺฏ ููฺฉู ุงุณุช ุฒูุงู ุจุดุชุฑ ูุงุฒ ุฏุงุดุชู ุจุงุดูุฏ
- ุงุชุตุงู ุงูุชุฑูุช ูพุงุฏุงุฑ ุจุฑุง ุฏุงูููุฏ ูุงูโูุง ุถุฑูุฑ ุงุณุช

### ุจูุชุฑู ุดููโูุง:
- ูุจู ุงุฒ ูพุฑุฏุงุฒุดุ ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุงูโูุง JSON ุฏุฑ Saved Messages ููุฌูุฏ ูุณุชูุฏ
- ุจุฑุง ฺฉุงุฑุจุฑุงู ุจุง ูุงูโูุง ุฒุงุฏุ ุตุจุฑ ฺฉูุฏ ุชุง ุนููุงุช ฺฉุงูู ุดูุฏ
- ุงุฒ ูุงฺฏโูุง ุจุฑุง ุจุฑุฑุณ ูุถุนุช ูพุฑุฏุงุฒุด ุงุณุชูุงุฏู ฺฉูุฏ

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ:
1. **ูุงูโูุง ูพุฏุง ููโุดููุฏ:** ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุงูโูุง ุฏุฑ Saved Messages ููุฌูุฏ ูุณุชูุฏ
2. **ุฎุทุง ุงุชุตุงู:** ุจุฑุฑุณ ุชูุธูุงุช API ู SESSION_STRING
3. **ุฎุทุง ุฏุชุงุจุณ:** ุจุฑุฑุณ ุงุชุตุงู MongoDB

### ุฑุงูโุญูโูุง:
- ุงุฒ `--list` ุจุฑุง ุจุฑุฑุณ ฺฉุงุฑุจุฑุงู ูพุฑุฏุงุฒุด ุดุฏู ุงุณุชูุงุฏู ฺฉูุฏ
- ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุชุง ูุดฺฉู ุฑุง ุดูุงุณุง ฺฉูุฏ
- ุชูุธูุงุช ูุญุท ุฑุง ุฏูุจุงุฑู ุจุฑุฑุณ ฺฉูุฏ

## ๐ ุชุงุฑุฎฺู ุชุบุฑุงุช

### ูุณุฎู 1.0 (2025-07-30):
- โ ูพุงุฏูโุณุงุฒ ุงููู
- โ ุชุฑฺฉุจ ูุงูโูุง JSON
- โ ุญุฐู ุชฺฉุฑุงุฑ ูพุงูโูุง
- โ ุชุฑฺฉุจ ุชุงุฑุฎฺู username ู name
- โ ุฐุฎุฑู ุฏุฑ MongoDB
- โ ูพุดุชุจุงู ุงุฒ ูพุฑุฏุงุฒุด ูุฌุฏุฏ

---

**ุชูุณุนูโุฏููุฏู:** AI Assistant  
**ุชุงุฑุฎ ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู:** 2025-07-30  
**ูุณุฎู:** 1.0 