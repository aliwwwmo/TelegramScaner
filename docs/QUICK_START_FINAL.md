# ุฑุงูููุง ุณุฑุน - ูฺฺฏ ุฏุชุงุจุณ ฺฏุฑููโูุง

## ุฎูุงุตู ุชุบุฑุงุช

ุจุฑูุงูู ุญุงูุง ูโุชูุงูุฏ ฺฏุฑููโูุง ุฑุง ุงุฒ ุฏุชุงุจุณ MongoDB ุจุฎูุงูุฏ ุจู ุฌุง ูุงู `links.txt`.

## ุชูุธูุงุช ุณุฑุน

### 1. ูุนุงูโุณุงุฒ ุฎูุงูุฏู ุงุฒ ุฏุชุงุจุณ
```bash
# ุฏุฑ ูุงู .env
USE_DATABASE_FOR_GROUPS=true
```

### 2. ุงูุชูุงู ฺฏุฑููโูุง ุงุฒ ูุงู ุจู ุฏุชุงุจุณ
```bash
python analyzer/migrate_groups_to_db.py
```

### 3. ุงุฌุฑุง ุจุฑูุงูู
```bash
python analyzer/main.py
```

## ูุญูู ฺฉุงุฑฺฉุฑุฏ

### ุญุงูุช ุฏุชุงุจุณ (ูพุดโูุฑุถ)
- ุจุฑูุงูู ุงุจุชุฏุง ฺฏุฑููโูุง ุฑุง ุงุฒ ุฏุชุงุจุณ MongoDB ูโุฎูุงูุฏ
- ุงฺฏุฑ ุฏุชุงุจุณ ุฎุงู ุจุงุดุฏุ ุจู ูุงู `links.txt` ุจุฑูโฺฏุฑุฏุฏ
- ุงฺฏุฑ ูฺ ููุจุน ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏุ ุฎุทุง ูโุฏูุฏ

### ุญุงูุช ูุงู
```bash
# ุฏุฑ ูุงู .env
USE_DATABASE_FOR_GROUPS=false
```

## ูุฒุงุง

1. **ูุฏุฑุช ุจูุชุฑ ฺฏุฑููโูุง** ุฏุฑ ุฏุชุงุจุณ
2. **ุนุฏู ูุงุจุณุชฺฏ ุจู ูุงู** `links.txt`
3. **ูุงุจูุช ุฌุณุชุฌู** ุฏุฑ ฺฏุฑููโูุง
4. **ุณุงุฒฺฏุงุฑ ฺฉุงูู** ุจุง ฺฉุฏ ูุจู
5. **ูุงูโุจฺฉ ุฎูุฏฺฉุงุฑ** ุจู ุฏุชุงุจุณ ู ูุงู

## ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

ฺฏุฑููโูุง ุฏุฑ ฺฉุงูฺฉุดู `groups` ุจุง ุณุงุฎุชุงุฑ ุฒุฑ ุฐุฎุฑู ูโุดููุฏ:

```json
{
  "chat_id": -1001234567890,
  "username": "example_group",
  "link": "https://t.me/example_group",
  "chat_type": "supergroup",
  "is_public": true,
  "last_scan_time": "2024-01-01T00:00:00Z",
  "last_scan_status": "success",
  "created_at": "2024-01-01T00:00:00Z",
  "updated_at": "2024-01-01T00:00:00Z"
}
```

## ุชูุธูุงุช MongoDB

```bash
# ุฏุฑ ูุงู .env
MONGO_CONNECTION_STRING=mongodb://admin:password@mongodb:27017/
MONGO_DATABASE=telegram_scanner
MONGO_COLLECTION=groups
USE_DATABASE_FOR_GROUPS=true
```

## ุนุจโุงุจ ุณุฑุน

### ูุดฺฉู: ฺฏุฑููโูุง ุงุฒ ุฏุชุงุจุณ ุฎูุงูุฏู ููโุดููุฏ
**ุฑุงู ุญู:** ฺฏุฑููโูุง ุฑุง ุงุฒ ูุงู ุจู ุฏุชุงุจุณ ููุชูู ฺฉูุฏ:
```bash
python analyzer/migrate_groups_to_db.py
```

### ูุดฺฉู: ุฎุทุง `_id`
**ุฑุงู ุญู:** ูุฏู `GroupInfo` ุงุตูุงุญ ุดุฏู ุงุณุช ู ุงู ูุดฺฉู ุญู ุดุฏู ุงุณุช.

### ูุดฺฉู: ุฏุชุงุจุณ ุฎุงู
**ุฑุงู ุญู:** ุงุจุชุฏุง ฺฏุฑููโูุง ุฑุง ุฏุฑ ูุงู `links.txt` ูุฑุงุฑ ุฏูุฏุ ุณูพุณ ููุชูู ฺฉูุฏ.

## ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ

```
๐ Using database as source for groups...
โ Retrieved 5 group links from database
๐ Found 5 chat(s) to analyze
๐ Analyzing chat 1/5
   Original: https://t.me/example_group
   Resolved: https://t.me/example_group
โ Chat 1 completed successfully
```

## ูฺฉุงุช ููู

1. **ุงูููุช ุฏุชุงุจุณ**: ุงฺฏุฑ `USE_DATABASE_FOR_GROUPS=true` ุจุงุดุฏุ ุงุจุชุฏุง ุฏุชุงุจุณ ุจุฑุฑุณ ูโุดูุฏ
2. **ูุงูโุจฺฉ**: ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ ฺฏุฑูู ุฏุฑ ููุจุน ุงููุ ููุจุน ุฏูู ุจุฑุฑุณ ูโุดูุฏ
3. **ุณุงุฒฺฏุงุฑ**: ุงู ุชุบุฑ ุจุง ฺฉุฏ ูุจู ุณุงุฒฺฏุงุฑ ุงุณุช
4. **ูุงฺฏ**: ุชูุงู ุนููุงุช ุฏุฑ ูุงฺฏโูุง ุซุจุช ูโุดูุฏ

## ูุณุชูุฏุงุช ฺฉุงูู

ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑุ ูุงู `DATABASE_GROUPS_FEATURE.md` ุฑุง ูุทุงูุนู ฺฉูุฏ. 